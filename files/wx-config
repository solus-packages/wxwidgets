#!/bin/bash
#
# When invoked with linux32 (via ypkg) our $(uname -m) is i686.
# Solus is only shipped as an x86_64 distro with emul32 lib support

function linux32_wxunicode()
{
    exec /usr/lib32/wx/config/gtk3-unicode-* $@
}

function linux64_wxunicode()
{
    exec /usr/lib64/wx/config/gtk3-unicode-* $@
}

# If WXWIDGETSEMUL32 is set, forcibly use the 32-bit
# path, i.e. multilib builds
if [[ ! -z "${WXWIDGETSEMUL32}" ]]; then
    linux32_wxunicode $@
fi

# Called "normally", just detect the arch
case $(uname -m) in
    i?86)
        linux32_wxunicode $@
        ;;
    *)
        linux64_wxunicode $@
        ;;
esac
